// Copyright 2016, the Dart project authors.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

/**
 * Created by stanm on 6/20/16.
 */
public class InvokeInterface1C {

    private interface I {
        int getInteger();
    }

    private static class A0 implements I {
        public int getInteger() {
            return 0;
        }
    }

    private static class A1 implements I {
        public int getInteger() {
            return 1;
        }
    }

    private static class A2 implements I {
        public int getInteger() {
            return 2;
        }
    }

    private static class A3 implements I {
        public int getInteger() {
            return 3;
        }
    }

    private static class A4 implements I {
        public int getInteger() {
            return 4;
        }
    }

    private static class A5 implements I {
        public int getInteger() {
            return 5;
        }
    }

    private static class A6 implements I {
        public int getInteger() {
            return 6;
        }
    }

    private static class A7 implements I {
        public int getInteger() {
            return 7;
        }
    }

    private static class A8 implements I {
        public int getInteger() {
            return 8;
        }
    }

    private static class A9 implements I {
        public int getInteger() {
            return 9;
        }
    }

    private static class A10 implements I {
        public int getInteger() {
            return 10;
        }
    }

    private static class A11 implements I {
        public int getInteger() {
            return 11;
        }
    }

    private static class A12 implements I {
        public int getInteger() {
            return 12;
        }
    }

    private static class A13 implements I {
        public int getInteger() {
            return 13;
        }
    }

    private static class A14 implements I {
        public int getInteger() {
            return 14;
        }
    }

    private static class A15 implements I {
        public int getInteger() {
            return 15;
        }
    }

    private static class A16 implements I {
        public int getInteger() {
            return 16;
        }
    }

    private static class A17 implements I {
        public int getInteger() {
            return 17;
        }
    }

    private static class A18 implements I {
        public int getInteger() {
            return 18;
        }
    }

    private static class A19 implements I {
        public int getInteger() {
            return 19;
        }
    }

    private static class A20 implements I {
        public int getInteger() {
            return 20;
        }
    }

    private static class A21 implements I {
        public int getInteger() {
            return 21;
        }
    }

    private static class A22 implements I {
        public int getInteger() {
            return 22;
        }
    }

    private static class A23 implements I {
        public int getInteger() {
            return 23;
        }
    }

    private static class A24 implements I {
        public int getInteger() {
            return 24;
        }
    }

    private static class A25 implements I {
        public int getInteger() {
            return 25;
        }
    }

    private static class A26 implements I {
        public int getInteger() {
            return 26;
        }
    }

    private static class A27 implements I {
        public int getInteger() {
            return 27;
        }
    }

    private static class A28 implements I {
        public int getInteger() {
            return 28;
        }
    }

    private static class A29 implements I {
        public int getInteger() {
            return 29;
        }
    }

    private static class A30 implements I {
        public int getInteger() {
            return 30;
        }
    }

    private static class A31 implements I {
        public int getInteger() {
            return 31;
        }
    }

    private static class A32 implements I {
        public int getInteger() {
            return 32;
        }
    }

    private static class A33 implements I {
        public int getInteger() {
            return 33;
        }
    }

    private static class A34 implements I {
        public int getInteger() {
            return 34;
        }
    }

    private static class A35 implements I {
        public int getInteger() {
            return 35;
        }
    }

    private static class A36 implements I {
        public int getInteger() {
            return 36;
        }
    }

    private static class A37 implements I {
        public int getInteger() {
            return 37;
        }
    }

    private static class A38 implements I {
        public int getInteger() {
            return 38;
        }
    }

    private static class A39 implements I {
        public int getInteger() {
            return 39;
        }
    }

    private static class A40 implements I {
        public int getInteger() {
            return 40;
        }
    }

    private static class A41 implements I {
        public int getInteger() {
            return 41;
        }
    }

    private static class A42 implements I {
        public int getInteger() {
            return 42;
        }
    }

    private static class A43 implements I {
        public int getInteger() {
            return 43;
        }
    }

    private static class A44 implements I {
        public int getInteger() {
            return 44;
        }
    }

    private static class A45 implements I {
        public int getInteger() {
            return 45;
        }
    }

    private static class A46 implements I {
        public int getInteger() {
            return 46;
        }
    }

    private static class A47 implements I {
        public int getInteger() {
            return 47;
        }
    }

    private static class A48 implements I {
        public int getInteger() {
            return 48;
        }
    }

    private static class A49 implements I {
        public int getInteger() {
            return 49;
        }
    }

    private static class A50 implements I {
        public int getInteger() {
            return 50;
        }
    }

    private static class A51 implements I {
        public int getInteger() {
            return 51;
        }
    }

    private static class A52 implements I {
        public int getInteger() {
            return 52;
        }
    }

    private static class A53 implements I {
        public int getInteger() {
            return 53;
        }
    }

    private static class A54 implements I {
        public int getInteger() {
            return 54;
        }
    }

    private static class A55 implements I {
        public int getInteger() {
            return 55;
        }
    }

    private static class A56 implements I {
        public int getInteger() {
            return 56;
        }
    }

    private static class A57 implements I {
        public int getInteger() {
            return 57;
        }
    }

    private static class A58 implements I {
        public int getInteger() {
            return 58;
        }
    }

    private static class A59 implements I {
        public int getInteger() {
            return 59;
        }
    }

    private static class A60 implements I {
        public int getInteger() {
            return 60;
        }
    }

    private static class A61 implements I {
        public int getInteger() {
            return 61;
        }
    }

    private static class A62 implements I {
        public int getInteger() {
            return 62;
        }
    }

    private static class A63 implements I {
        public int getInteger() {
            return 63;
        }
    }

    private static class A64 implements I {
        public int getInteger() {
            return 64;
        }
    }

    private static class A65 implements I {
        public int getInteger() {
            return 65;
        }
    }

    private static class A66 implements I {
        public int getInteger() {
            return 66;
        }
    }

    private static class A67 implements I {
        public int getInteger() {
            return 67;
        }
    }

    private static class A68 implements I {
        public int getInteger() {
            return 68;
        }
    }

    private static class A69 implements I {
        public int getInteger() {
            return 69;
        }
    }

    private static class A70 implements I {
        public int getInteger() {
            return 70;
        }
    }

    private static class A71 implements I {
        public int getInteger() {
            return 71;
        }
    }

    private static class A72 implements I {
        public int getInteger() {
            return 72;
        }
    }

    private static class A73 implements I {
        public int getInteger() {
            return 73;
        }
    }

    private static class A74 implements I {
        public int getInteger() {
            return 74;
        }
    }

    private static class A75 implements I {
        public int getInteger() {
            return 75;
        }
    }

    private static class A76 implements I {
        public int getInteger() {
            return 76;
        }
    }

    private static class A77 implements I {
        public int getInteger() {
            return 77;
        }
    }

    private static class A78 implements I {
        public int getInteger() {
            return 78;
        }
    }

    private static class A79 implements I {
        public int getInteger() {
            return 79;
        }
    }

    private static class A80 implements I {
        public int getInteger() {
            return 80;
        }
    }

    private static class A81 implements I {
        public int getInteger() {
            return 81;
        }
    }

    private static class A82 implements I {
        public int getInteger() {
            return 82;
        }
    }

    private static class A83 implements I {
        public int getInteger() {
            return 83;
        }
    }

    private static class A84 implements I {
        public int getInteger() {
            return 84;
        }
    }

    private static class A85 implements I {
        public int getInteger() {
            return 85;
        }
    }

    private static class A86 implements I {
        public int getInteger() {
            return 86;
        }
    }

    private static class A87 implements I {
        public int getInteger() {
            return 87;
        }
    }

    private static class A88 implements I {
        public int getInteger() {
            return 88;
        }
    }

    private static class A89 implements I {
        public int getInteger() {
            return 89;
        }
    }

    private static class A90 implements I {
        public int getInteger() {
            return 90;
        }
    }

    private static class A91 implements I {
        public int getInteger() {
            return 91;
        }
    }

    private static class A92 implements I {
        public int getInteger() {
            return 92;
        }
    }

    private static class A93 implements I {
        public int getInteger() {
            return 93;
        }
    }

    private static class A94 implements I {
        public int getInteger() {
            return 94;
        }
    }

    private static class A95 implements I {
        public int getInteger() {
            return 95;
        }
    }

    private static class A96 implements I {
        public int getInteger() {
            return 96;
        }
    }

    private static class A97 implements I {
        public int getInteger() {
            return 97;
        }
    }

    private static class A98 implements I {
        public int getInteger() {
            return 98;
        }
    }

    private static class A99 implements I {
        public int getInteger() {
            return 99;
        }
    }

    private static class A100 implements I {
        public int getInteger() {
            return 100;
        }
    }

    static volatile I[] is = {new A0(), new A1(), new A2(), new A3(), new A4(), new A5(), new A6(), new A7(), new A8(),
            new A9(), new A10(), new A11(), new A12(), new A13(), new A14(), new A15(), new A16(), new A17(), new A18(),
            new A19(), new A20(), new A21(), new A22(), new A23(), new A24(), new A25(), new A26(), new A27(),
            new A28(), new A29(), new A30(), new A31(), new A32(), new A33(), new A34(), new A35(), new A36(),
            new A37(), new A38(), new A39(), new A40(), new A41(), new A42(), new A43(), new A44(), new A45(),
            new A46(), new A47(), new A48(), new A49(), new A50(), new A51(), new A52(), new A53(), new A54(),
            new A55(), new A56(), new A57(), new A58(), new A59(), new A60(), new A61(), new A62(), new A63(),
            new A64(), new A65(), new A66(), new A67(), new A68(), new A69(), new A70(), new A71(), new A72(),
            new A73(), new A74(), new A75(), new A76(), new A77(), new A78(), new A79(), new A80(), new A81(),
            new A82(), new A83(), new A84(), new A85(), new A86(), new A87(), new A88(), new A89(), new A90(),
            new A91(), new A92(), new A93(), new A94(), new A95(), new A96(), new A97(), new A98(), new A99(),
            new A100()};

    public static void main(String[] args) {
        if (args.length < 2) {
            System.err.println("Usage: ./a.out <outer-loop-iterations> <inner-loop-iterations>");
            return;
        }

        int outerRep, innerRep;
        try {
            outerRep = Integer.parseInt(args[0]);
            innerRep = Integer.parseInt(args[1]);
        } catch (Throwable _) {
            System.err.println("Error: could not parse command line argument.");
            return;
        }

        System.out.println("iteration,rep " + innerRep);
        for (int id = 0; id < outerRep; ++id) {
            System.out.print(id + ",");
            {
                long tm1 = System.nanoTime();
                for (int k = 0; k < innerRep; ++k) {
                    is[k % 101].getInteger();
                }
                long tm2 = System.nanoTime();
                System.out.println(1.0 * (tm2 - tm1) / innerRep);
            }
        }
    }
}
